<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>Syeda Maria_Hussain_assignment 1.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>Syeda Maria_Hussain_assignment 1.cpp</CENTER></H3><HR>
<PRE>
#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;iostream&gt;
char displaymatrix(char**matrix);
void printinggeneration(char**matrix);
void freememory(char**matrix);
int Columns;
int Rows;
int main()
{
  char filename[20];
  char rows[2];
  char columns[2];
  char opt;
  FILE*fptr=NULL;

printf(&quot;=========================================================================\nWelcome to a simulation of the lifecycle of a bacteria colony.\nCells (X) live and die by the following rules:- \nA cell with 1 or fewer neighbors dies.\n- Locations with 2 neighbors remain stable.\n- Locations with 3 neighbors will create life.\n- A cell with 4 or more neighbors dies.\n&quot;);
printf(&quot;\nGrid input file name?&quot;);


fflush(stdin);
gets(filename);
fptr=fopen(filename,&quot;r&quot;);


if(fptr==NULL)
{
printf(&quot;Error opening file.&quot;);
}

    fscanf(fptr,&quot;%d&quot;,&amp;rows[0]);
    fseek(fptr,sizeof(char)*1,SEEK_CUR);
    fscanf(fptr,&quot;%d&quot;,&amp;columns[0]);
    fseek(fptr,sizeof(char)*1,SEEK_CUR);
    rows[1]='\0';
    columns[1]='\0';
    Rows=atoi(rows);
    Columns=atoi(columns);
    displaymatrix(matrix);
    while(1)
      {
	printf(&quot;t)ick,q)uit? &quot;);
        fflush(stdin);
        scanf(&quot;%c&quot;,&amp;opt);
        switch(opt)
	  {
	  case 't':
            printinggeneration(matrix);
            displaymatrix(matrix);
	    break;
          case 'q':
            freememory(matrix);
	    return 0;
            
             
	  }

      }
<A NAME="0"></A>}
char displaymatrix(char**matrix) 
{
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match15-1.html#0',3,'match15-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    char** matrix= new char*[Rows];
    for(int j=0;j&lt;Rows;j++)
      {
        matrix[j]= new char[Columns];
      } 
    
    for(int i=0;i&lt;Rows;i++)
      {
	fread(matrix[i],sizeof(char),Columns,fptr);
        fseek(fptr,sizeof(char)*1,SEEK_CUR);
      }</B></FONT>
<A NAME="1"></A>      
    for (int t=0;t&lt;Rows;t++)
      {
<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match15-1.html#1',3,'match15-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>       int  counter[t]= new int[Columns];
      }
    for(int t=0;t&lt;Rows;t++)
      {
	for(int j=0;j&lt;Columns;j++)
	  counter[t][j]=0;
      }
    for(int i=0;i&lt;Rows;i++)
      {
	for(int b=0;b&lt;Columns;b++)
	  {
	    if(i==0&amp;&amp;j==0)
	      {
		if(matrix[i][b+1]=='X')
		  counter[i][b]++;
                if(matrix[i+1][b+1]=='X')
		  counter[i][b]++;
                if(matrix[i+1][b]=='X')
		  counter[i][b]++;
<A NAME="2"></A>              }
            
	    else </B></FONT>
<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match15-1.html#2',3,'match15-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>	      if(i==0&amp;&amp;b!=Columns-1)
		{
		  if(matrix[i][b-1]=='X')
		    counter[i][b]++;
		  if(matrix[i][b+1]=='X')
		    counter[i][b]++;
                  if(matrix[i+1][b-1]=='X')
                    counter[i][b]++;
		  if(matrix[i+1][b]=='X')
                    counter[i][b]++;
                  if(matrix[i+1][b+1]=='X')
                    counter[i][b]++;</B></FONT>
                  if(matrix[i][b+1]=='X')
                    counter[i][b]++;
<A NAME="3"></A>		}
            
	      else 
<FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match15-1.html#3',3,'match15-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>                if(i==Rows-1&amp;&amp; b!=columns-1)

		  {
                    if(matrix[i][b-1]=='X')
		      counter[i][b]++;
		    if(matrix[i][b+1]=='X')
                      counter[i][b]++;
                    if(matrix[i-1][b-1]=='X')
                      counter[i][b]++;
                    if(matrix[i-1][b]=='X')
		      counter[i][b]++;
                    if(matrix[i-1][b+1]=='X')
		      counter[i][b]++;
                   
		  }
 
		else</B></FONT>
		  if(i==Rows-1&amp;&amp; b==Columns-1)
                    {
		      if(matrix[i-1][b]=='X')
			counter[i][b]++;
                      if(matrix[i-1][b-1]=='X')
                        counter[i][b]++;
                      if(matrix[i][b-1]=='X')
                        counter[i][b]++;
                    }
                 
<A NAME="4"></A>		  else
		       if(b==0)
		      {
<FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match15-1.html#4',3,'match15-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>                        if(matrix[i][b+1]=='X')
			  counter[i][b]++;
                        if(matrix[i-1][b+1]=='X')
                          counter[i][b]++;
			if(matrix[i+1][b]=='X')
                          counter[i][b]++;
		      }
		       else 
                         {
			   if(matrix[i-1][b-1]=='X')
                             counter[i][b]++;
			       if(matrix[i-1][b]=='X')
				 counter[i][b]++;
			       if(matrix[i-1][b+1]=='X')
                                 counter[i][b]++;
                               if(matrix[i-1][b+1]=='X')
                                 counter[i][b]++;
                               if(matrix[i][b-1]=='X')
                                 counter[i][b]++;
                               if(matrix[i][b+1]=='X')
                                 counter[i][b]++;
                               if(matrix[i+1][b]=='X')
                                 counter[i][b]++;
                               if(matrix[i+1][b+1]=='X')
                                 counter[i][b]++;

			 }
                   
<A NAME="5"></A>
	  }</B></FONT>

<FONT color="#c8c2a7"><A HREF="javascript:ZweiFrames('match15-1.html#5',3,'match15-top.html#5',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    for(int i=0;i&lt;Rows;i++)
      {
        for(int i=0;i&lt;Columns;i++)
	  {
	    if(counter[i][b]==0|| counter[i][b]==1 || counter[i][b]==2 || counter[i][b]==4)
	      matrix[i][b]='-';
	    if(counter[i][b]==3)</B></FONT>
              matrix[i][b]=='x';
	  }
      }
    for(int a=0;a&lt;Rows;a++)
<A NAME="6"></A>      {
      delete counter[a];
      }
<FONT color="#50ebec"><A HREF="javascript:ZweiFrames('match15-1.html#6',3,'match15-top.html#6',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    delete counter;
      }
  
    void printinggeneration(char**matrix)
    {
      for(int i=0;i&lt;Rows;i++)
        {
          for(int j=0;j&lt;Columns;j++)</B></FONT>
	    printf(&quot;%c&quot;,matrix[i][j]);
	  printf(&quot;\n&quot;);
	}
    }
    void freememory(char**matrix)
    {
      for(int i =0; i&lt;Rows;i++)
	{
          delete matrix[i];
	}
      delete matrix;
    }

	

</PRE>
</BODY>
</HTML>
