<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>Muhammad Nouman_Ahmad_Nouman_5265.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>Muhammad Nouman_Ahmad_Nouman_5265.cpp</CENTER></H3><HR>
<PRE>
      // This assignment was prepared while discussing with my class mate Syed Abdul Aleem Shah. major discussion was on 
       // reading contents from file. but my code and concept is my own
#include &lt;stdio.h&gt;
<A NAME="0"></A>#include &lt;iostream&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match20-1.html#0',3,'match20-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>void print (char **arr,int rows, int colns );
void assignment(char ** original,char ** helper,int row,int coln );
void growth(char** row,char**helper,int rows,int colns);
void MemFree (char** original,char** helper, int rows, int colns);</B></FONT>



int main ()
{
	char filename[50];
	printf (&quot;please enter file name ?  &quot;);
	
	std::cin &gt;&gt; filename;
	FILE *ptr;
	ptr = fopen (filename,&quot;r&quot;);
	if (ptr== NULL)
	{printf (&quot;error in opening file&quot;);return 0;}

	int rows;int colns;

            // Reading Of Rows And Colns

	rewind (ptr);
	fscanf (ptr,&quot;%d&quot;,&amp;rows);fscanf (ptr,&quot;%d&quot;,&amp;colns);
	colns=colns+1;

<A NAME="1"></A>
	// decleration of arrays

<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match20-1.html#1',3,'match20-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>	char ** original = (char**) malloc (sizeof(char*)*rows);
	for (int t=0;t&lt;rows;t++)
	{
		original[t]= (char*) malloc (sizeof (char)*colns);

	}</B></FONT>
<A NAME="2"></A>
	// decleration helper array

<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match20-1.html#2',3,'match20-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>	char ** helper = (char**) malloc (sizeof(char*)*rows);
	for (int t=0;t&lt;rows;t++)
<A NAME="3"></A>	{
		helper[t]= (char*) malloc (sizeof (char)*colns);</B></FONT>

<FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match20-1.html#3',3,'match20-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>	}
	// reading In Original Array
	for (int t=0;t&lt;rows;t++)
	{
		for (int j=0;j&lt;colns;j++)
		{
			fscanf (ptr,&quot;%c&quot;,&amp;original[t][j]);
		}
	}




	//copying of elements in helper


	for (int t=0;t&lt;rows;t++)
	{
		for (int j=1;j&lt;colns;j++)
		{
			helper[t][j]=original[t][j];
		}
	}</B></FONT>

        //First Print
     
	print(original,rows,colns);

        //helping Variables
	char option='t';int counter=0;

	printf (&quot;Welcome to a simulation of the lifecycle of a bacteria colony.\nCells (X) live and die by the following rules:\n- A cell with 1 or fewer neighbors dies.\n- Locations with 2 neighbors remain stable.\n- Locations with 3 neighbors will create life.\n- A cell with 4 or more neighbors dies.&quot;);

	while (1)
	{
		printf (&quot;\nt)ick, q)uit?   &quot;);
		
		std::cin &gt;&gt; option;
		
		if (option !='t'){return 0;}


		growth(original,helper,rows,colns);
                    
                   // Changes to Helper Array

		assignment(original,helper,rows,colns);

		print(original,rows,colns);
	}
<A NAME="4"></A>   
       MemFree (original,helper,rows,colns);

<FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match20-1.html#4',3,'match20-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}




       // Function For Printing

void print (char ** arr,int rows, int colns )
{


        for (int t=0;t&lt;rows;t++)
	{
		for (int j=0;j&lt;colns;j++)
		{
			printf (&quot;%c&quot;,arr[t][j]);
		}
	}
        printf (&quot;\n&quot;);

}

      // Assignment Of Array In Helper Array
<A NAME="5"></A>
void assignment(char ** original,char ** helper,int row,int coln )
{</B></FONT>
<FONT color="#c8c2a7"><A HREF="javascript:ZweiFrames('match20-1.html#5',3,'match20-top.html#5',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>	for (int t=0;t&lt;row-1;t++)
	{
		for (int j=1;j&lt;coln-1;j++)
<A NAME="6"></A>		{
				original[t][j]=helper[t][j];
		}</B></FONT>
<FONT color="#50ebec"><A HREF="javascript:ZweiFrames('match20-1.html#6',3,'match20-top.html#6',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>	}
}


       // Simulation
void growth(char** row,char** helper,int rows,int colns)
{
	int counter=0;
		for (int t=0;t&lt;rows;t++)
		{</B></FONT>
			for (int j=0;j&lt;colns-1;j++)
			{
				int counter=0;
				if ((t-1)&gt;=0 &amp;&amp; (j-1)&gt;=0)
				{
					if (row[t-1][j-1]=='X')
					counter++;
				}
				if ((t-1)&gt;=0)
				{
					if (row[t-1][j]=='X')
					counter++;
				}
				if ((j-1)&gt;=0)
				{
					if (row[t][j-1]=='X')
					counter++;
				}
				if ((j+1)&lt;colns)
				{
					if (row[t][j+1]=='X')
					counter++;
				}
				if ((t+1)&lt;rows)
				{
					if (row[t+1][j]=='X')
					counter++;
				}
				if ((t+1)&lt;rows &amp;&amp; (j+1)&lt;colns)
				{
					if (row[t+1][j+1]=='X')
					counter++;
				}
				if ((t+1)&lt;rows &amp;&amp; (j-1)&gt;=0)
				{
					if (row[t+1][j-1]=='X')
					counter++;
				}
				if ((t-1)&gt;=0 &amp;&amp; (j+1)&lt;colns)
				{
					if (row[t-1][j+1]=='X')
					counter++;
				}


                         // Chnages Depending Upon Neighbours
<A NAME="7"></A>
				if (counter ==0 ||counter==1)
				helper[t][j]='-';
<FONT color="#c58917"><A HREF="javascript:ZweiFrames('match20-1.html#7',3,'match20-top.html#7',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>				if (counter ==3)
				helper[t][j]='X';
				if (counter &gt;3)
				helper[t][j]='-';
		        }
	     }
}


                    // mEMORY fREE

void MemFree (char** original,char** helper, int rows, int colns)
{
          for (int t=0; t&lt;rows;t++)
          {</B></FONT>
               
                    delete (original[t]);
                    delete (helper[t]);
               
          }
     delete (original);
     delete (helper);
}
</PRE>
</BODY>
</HTML>
