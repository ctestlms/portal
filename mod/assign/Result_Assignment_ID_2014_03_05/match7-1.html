<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>Osama Bin_Abid_Source.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>Osama Bin_Abid_Source.cpp</CENTER></H3><HR>
<PRE>
// Assignment no 1 : Bactarial Colony growth
// Programmer : Osama Bin Abid
// Submitted to : Sir Tahir Azeem
// Acknowledgements :: Mohsin Latif, M.Shahbal Khan, Stackoverflow
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;iostream&gt;
void display (char ** GRID, int rows,int cols);
void checkConditions (char ** GRID,char ** GRID_2,int rows,int cols);

int main ()
{
	char file_name [20];
	int rows=0,cols=0;
	FILE* fptr;

	printf(&quot;Welcome to a simulation of the lifecycle of a bacteria colony.\nCells (X) live and die by the following rules:\n- A cell with 1 or fewer neighbors dies.\n- Locations with 2 neighbors remain stable.\n- Locations with 3 neighbors will create life.\n- A cell with 4 or more neighbors dies.\n\n\nGrid input file name?  :&quot;);
	gets(file_name);

	fptr=fopen(file_name,&quot;r&quot;);
	if (fptr ==NULL) 
	{
		printf(&quot;Error opening file...\n&quot;);
		return 0;
	}

	fscanf(fptr,&quot;%d\n%d\n&quot;,&amp;rows,&amp;cols);		// reading row no and column no from file and storing in array

	char **GRID = (char **) malloc (sizeof(char *) * rows);		//syntex help :&gt; stackoverflow
	for (int i = 0; i &lt; rows; i++)	{
		GRID[i] = (char *) malloc (sizeof(char) * cols);
	}	

	char **GRID_2 = (char **) malloc (sizeof(char *) * rows);   //GRID_2 stores the changed values from the original GRID.
	for (int i = 0; i &lt; rows; i++)	{
		GRID_2[i] = (char *) malloc (sizeof(char) * cols);
	}	

	for(int i=0;i&lt;rows;i++){
		for(int j=0;j&lt;cols;j++){
			fscanf(fptr,&quot;%c&quot;,&amp;GRID[i][j]);          //GRID maintains the original state of the colony while GRID_2 will be amended by conditions for the new state.
			GRID_2[i][j] = GRID[i][j];
		}
		fscanf(fptr,&quot;\n&quot;);                    //This line reads the end of line. Courtesy:: Mohsin Latif.
	}

	display(GRID_2,rows,cols);               //displays the original condition of the colony.

	while(1)
	{
		char opt;
		std::cin&gt;&gt; opt;
		if (opt == 't')
		{
			checkConditions(GRID,GRID_2,rows,cols);
			display(GRID_2,rows,cols);						//Displays the current condition of the colony.
		}
		if (opt == 'q'){
			break;
		}
		for (int i = 0; i &lt; rows; i++)	{
			for (int j = 0; j &lt; cols; j++) {
				GRID[i][j] = GRID_2[i][j];	}
		}
<A NAME="0"></A>	}
	return 0;	 
}
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match7-0.html#0',2,'match7-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>void display (char ** GRID_2, int rows,int cols){

	for (int i=0;i&lt;rows;i++)
	{
		for(int j=0;j&lt;cols;j++)
		{
			printf(&quot;%c&quot;,GRID_2[i][j]);
		}
		printf(&quot;\n&quot;);
	}
	printf(&quot;\n t)ick, q)uit? &quot;);

}
void checkConditions (char ** GRID,char ** GRID_2,int rows,int cols){

	int counter=0;
	for(int i=0;i&lt;rows;i++){                //function for checking each cell for infected neighbors.
		for(int j=0;j&lt;cols;j++)				// help taken from M. Shahbal Khan and Mohsin Latif in implementation of logic and debugging issues.
		{

			counter = 0;

			if(i&gt;0 &amp;&amp; i&lt;(rows-1) &amp;&amp; j&gt;0 &amp;&amp; j&lt;(cols-1)){

				if (GRID[i-1][j-1]=='X')
				{counter++;
				}
				if (GRID[i-1][j]=='X')
				{counter++;
				}

				if (GRID[i-1][j+1]=='X')
				{counter++;
				}

				if (GRID[i][j-1]=='X')
				{counter++;
				}

				if (GRID[i][j+1]=='X')
				{counter++;
				}

				if (GRID[i+1][j-1]=='X')
				{counter++;
				}

				if (GRID[i+1][j]=='X')
				{counter++;
				}

				if (GRID[i+1][j+1]=='X')
				{counter++;
				}
			}


			if(i == 0 &amp;&amp; j&gt;0 &amp;&amp; j&lt;(cols-1)){
				if(GRID[i][j-1] == 'X' )
				{counter++;
				}

				if(GRID[i][j+1] == 'X' )
				{counter++;
				}

				if(GRID[i+1][j-1] == 'X' )
				{counter++;
				}

				if(GRID[i+1][j] == 'X' )
				{counter++;
				}

				if(GRID[i+1][j+1] == 'X' )
				{counter++;
				}
			}

			if(i == rows &amp;&amp; j&gt;0 &amp;&amp; j&lt;(cols-1) ){

				if(GRID[i][j-1] == 'X' )
				{counter++;
				}

				if(GRID[i][j+1] == 'X' )
				{counter++;
				}

				if(GRID[i-1][j-1] == 'X' )
				{counter++;
				}

				if(GRID[i-1][j] == 'X' )
				{counter++;
				}

				if(GRID[i-1][j+1] == 'X' )
				{counter++;
				}
			}

			if (i == 0 &amp;&amp; j ==0){

				if(GRID[i][j+1] == 'X')
				{counter++;
				}

				if(GRID[i+1][j] == 'X')
				{counter++;
				}

				if(GRID[i+1][j+1] == 'X')
				{counter++;
				}
			}

			if(i == rows &amp;&amp; i == cols){

				if(GRID[i+1][j+1] == 'X')
				{counter++;
				}

				if(GRID[i][j+1] == 'X')
				{counter++;
				}

				if(GRID[i+1][j+1] == 'X')
				{counter++;
				}

			}

			if(j == 0 &amp;&amp; i&gt;0 &amp;&amp; i&lt;(rows-1)){
				if(GRID[i-1][j+1] == 'X' )
				{counter++;
				}

				if(GRID[i-1][j] == 'X' )
				{counter++;
				}

				if(GRID[i][j+1] == 'X' )
				{counter++;
				}

				if(GRID[i+1][j] == 'X' )
				{counter++;
				}

				if(GRID[i+1][j+1] == 'X' )
				{counter++;
				}
			}

			if(j == cols &amp;&amp; i&gt;0 &amp;&amp; j&lt;(rows-1) ){

				if(GRID[i-1][j] == 'X' )
				{counter++;
				}

				if(GRID[i-1][j+1] == 'X' )
				{counter++;
				}

				if(GRID[i][j+1] == 'X' )
				{counter++;

				}

				if(GRID[i+1][j] == 'X' )
				{counter++;
				}

				if(GRID[i+1][j+1] == 'X' )
				{counter++;
				}
			}

			if (counter &lt;= 1){
				GRID_2[i][j] = '-';
			}
			if (counter &gt;=4)</B></FONT>
				GRID_2[i][j] = '-';
			if (counter == 3){
				GRID_2[i][j] ='X';
			}

		}
	}

}
</PRE>
</BODY>
</HTML>
